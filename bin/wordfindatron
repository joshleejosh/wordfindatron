#!/usr/bin/env node

var gridSize = 6;
if (process.argv.length > 2) {
    gridSize = parseInt(process.argv[2], 10);
}
var numWords = 5;
if (process.argv.length > 3) {
    numWords = parseInt(process.argv[3], 10);
}
var seed = 0;
if (process.argv.length > 4) {
    seed = parseInt(process.argv[4], 10);
}

var data = require('../src/data');
var puzzle = require('../src/puzzle');

data.load(null, function() {
    var p = puzzle.makePuzzle(gridSize, numWords, seed);
    console.log(p[1].toString());
    // just making sure serialization works.
    var s = puzzle.serialize(p[0], p[2]);
    var q = puzzle.deserialize(s);
    console.log(q[0].map(function (a) { return a.word; }).join(' '));
    console.log(q[2].toString());

});

